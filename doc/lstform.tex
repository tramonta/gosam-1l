\lstdefinelanguage{form}{%
   sensitive=false,
   morecomment=[f][commentstyle][0]{*},
   morecomment=[f][keywordstyle][0]{.},
   morestring=[b]",
   morecomment=[n][stringstyle]{`}{'},
   % preprocessor
   moredelim=*[directive]\#,
   moredirectives={append,break,call,case,close,commentchar,create,default},
   moredirectives={define,do,else,elseif,enddo,endif,endprocedure,endswitch},
   moredirectives={exchange,external,fromexternal,if,ifdef,ifndef,include},
   moredirectives={message,pipe,preout,procedure,procedureextension,prompt},
   moredirectives={redefine,remove,rmexternal,setexternal,setexternalattr},
   moredirectives={show,switch,system,terminate,toexternal,undefine,write,},
   % formType
   morekeywords={global, local},
   morekeywords={symmetric, antisymmetric, cyclesymmetric},
   morekeywords={rcyclesymmetric, rcyclic, reversecyclic},
   % formHeaderStatement
   morekeywords={symbol, symbols, cfunction, cfunctions},
   morekeywords={function, functions, vector, vectors},
   morekeywords={tensor, tensors, ctensor, ctensors},
   morekeywords={set, sets, index, indices, table, ctable},
   morekeywords={dimension, dimensions, unittrace},
   % formConditional
   morekeywords={if, else, elseif, endif, while},
   morekeywords={repeat, endrepeat, label, goto},
   morekeywords={argument, endargument, exit},
   morekeywords={inexpression, inside, term},
   morekeywords={endinexpression, endinside, endterm},
   % formStatement
   morekeywords={abracket, antibracket, bracket},
   morekeywords={abrackets, also, antibrackets, antisymmetrize},
   morekeywords={argexplode, argimplode, apply, auto, autodeclare},
   morekeywords={brackets, chainin, chainout, chisholm, cleartable},
   morekeywords={collect, commuting, compress, contract},
   morekeywords={cyclesymmetrize, deallocatetable, delete},
   morekeywords={dimension, discard, disorder, drop, factarg, fill},
   morekeywords={fillexpression, fixindex, format, funpowers, hide},
   morekeywords={id, identify, idnew, idold, ifmatch, inparallel},
   morekeywords={insidefirst, keep, load, makeinteger, many, metric},
   morekeywords={moduleoption, modulus, multi, multiply, ndrop},
   morekeywords={nfunctions, nhide, normalize, notinparallel},
   morekeywords={nprint, nskip, ntable, ntensors, nunhide, nwrite},
   morekeywords={off, on, once, only, polyfun, pophide, print},
   morekeywords={printtable, propercount, pushhide, ratio},
   morekeywords={rcyclesymmetrize, redefine, renumber},
   morekeywords={replaceinarg, replaceloop, save, select},
   morekeywords={setexitflag, skip, slavepatchsize, sort, splitarg},
   morekeywords={splitfirstarg, splitlastarg, sum, symmetrize},
   morekeywords={tablebase, testuse, threadbucketsize, totensor},
   morekeywords={tovector, trace4, tracen, tryreplace, unhide},
   morekeywords={unittrace, vectors, write},
   % some, special, functions
   morekeywords={abs_, bernoulli_, binom_, conjg_, count_},
   morekeywords={d_, dd_, delta_, deltap_, denom_, distrib_},
   morekeywords={dum_, dummy_, dummyten_, e_, exp_, fac_},
   morekeywords={factorin_, firstbracket_, g5_, g6_, g7_},
   morekeywords={g_, gcd_, gi_, integer_, invfac_, match_},
   morekeywords={max_, maxpowerof_, min_, minpowerof_},
   morekeywords={mod_, nargs_, nterms_, pattern_, poly_},
   morekeywords={polyadd_, polydiv_, polygcd_, polyintfac_},
   morekeywords={polymul_, polynorm_, polyrem_, polysub_},
   morekeywords={replace_, reverse_, root_, setfun_, sig_},
   morekeywords={sign_, sum_, sump_, table_, tbl_, term_},
   morekeywords={termsin_, termsinbracket_, theta_, thetap_},
   morekeywords={5_, 6_, 7_},
   % formReserved
   morekeywords={sqrt_, ln_, sin_, cos_, tan_, asin_, acos_},
   morekeywords={atan_, atan2_, sinh_, cosh_, tanh_, asinh_},
   morekeywords={acosh_, atanh_, li2_, lin_}
}[keywords,strings,comments,directives]
